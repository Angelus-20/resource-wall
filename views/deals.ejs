<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://kit.fontawesome.com/38b727e8a2.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/vendor/jquery-3.0.0.js"></script>
    <script src="/scripts/icons.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@600&display=swap"
      rel="stylesheet"
    />
  </head>
  <header class="p-5 flex justify-between items-center">
    <div class="text-4xl">
      <a
        href="/deals"
        class="text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-b from-orange-400 to-orange-600"
        >VEND</a
      >
      <p class="text-white text-2xl">Buy & Sell</p>
    </div>
    <a
      href="/deals/saved"
      class="rounded-full bg-orange-600 px-5 py-1 shadow-lg text-white outline transform hover:scale-105 duration-500 ease-in-out"
      >My Deals</a
    >
    <div class="flex gap-10">
      <a href="/deals/newdeal"
        ><i class="fa-solid fa-plus text-2xl text-white"></i
      ></a>
      <a href="/profile"
        ><i class="fa-solid fa-user text-2xl text-white"></i
      ></a>
    </div>
  </header>

  <body
    class="bg-gradient-to-b from-cyan-800 to-sky-900 text-black container m-auto h-screen"
    style="font-family: 'IBM Plex Sans', sans-serif"
  >
    <h3 class="text-2xl text-left p-5 text-white">Hot Deals</h3>

    <div class="flex items-center justify-center mt-8 p-4">
      <div class="space-y-3 flex space-x-3 flex-wrap gap-4">
        <% dealsData.forEach((deal) => { %>
        <article data-id="<%= deal.id %>">
          <ul
            class="flex bg-white justify-center flex-col items-center border-2 p-6 shadow-lg rounded-lg text-center transform hover:scale-105 duration-500 ease-in-out"
          >
            <li class="my-1">
              <a href="/deals/<%= deal.id %>"> <%= deal.title %></a>
            </li>
            <li class="my-1"><%= deal.description %></li>
            <li class="my-1"><%= deal.url %></li>
            <li class="my-1"><%= deal.name %></li>
            <li class="my-1"><%= deal.category_name %></li>
            <div class="flex gap-3 my-2">
              <li class="">
                <a href="/deals/like/<%= deal.id %>">
                  <i class="fa-regular fa-heart fa-beat-fade text-red-500"></i>
                </a>
                <%= deal.total_likes %>
              </li>
              <li>
                <a href="/deals/rate/1/deal/<%= deal.id %>"
                  ><i
                    class="fa-regular fa-star fa-beat space-x-4 hover:text-yellow-400 hover-rate"
                  ></i
                ></a>
                <a href="/deals/rate/2/deal/<%= deal.id %>"
                  ><i
                    class="fa-regular fa-star fa-beat space-x-4 hover:text-yellow-400 hover-rate"
                  ></i
                ></a>
                <a href="/deals/rate/3/deal/<%= deal.id %>"
                  ><i
                    class="fa-regular fa-star fa-beat space-x-4 hover:text-yellow-400 hover-rate"
                  ></i
                ></a>
                <a href="/deals/rate/4/deal/<%= deal.id %>"
                  ><i
                    class="fa-regular fa-star fa-beat space-x-4 hover:text-yellow-400 hover-rate"
                  ></i
                ></a>
                <a href="/deals/rate/5/deal/<%= deal.id %>"
                  ><i
                    class="fa-regular fa-star fa-beat space-x-4 hover:text-yellow-400 hover-rate"
                  ></i
                ></a>

                <!-- <i class="fa-solid fa-angle-up"></i> -->
                <%= deal.deal_rating !== null ?
                parseFloat(deal.deal_rating).toFixed(1) : 0 %>
              </li>
            </div>
          </ul>
        </article>

        <% }); %>
      </div>
    </div>
  </body>
</html>
